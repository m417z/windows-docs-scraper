# CD3D11_SHADER_RESOURCE_VIEW_DESC structure

## Description

Represents a shader-resource view and provides convenience methods for creating shader-resource views.

## Members

## Remarks

Here is how D3D11.h defines **CD3D11_SHADER_RESOURCE_VIEW_DESC**:

|  |
| --- |
| ``` struct CD3D11_SHADER_RESOURCE_VIEW_DESC : public D3D11_SHADER_RESOURCE_VIEW_DESC {     CD3D11_SHADER_RESOURCE_VIEW_DESC()     {}     explicit CD3D11_SHADER_RESOURCE_VIEW_DESC( const D3D11_SHADER_RESOURCE_VIEW_DESC& o ) :         D3D11_SHADER_RESOURCE_VIEW_DESC( o )     {}     explicit CD3D11_SHADER_RESOURCE_VIEW_DESC(         D3D11_SRV_DIMENSION viewDimension,         DXGI_FORMAT format = DXGI_FORMAT_UNKNOWN,         UINT mostDetailedMip = 0, // FirstElement for BUFFER         UINT mipLevels = -1, // NumElements for BUFFER         UINT firstArraySlice = 0, // First2DArrayFace for TEXTURECUBEARRAY         UINT arraySize = -1, // NumCubes for TEXTURECUBEARRAY         UINT flags = 0 ) // BUFFEREX only     {         Format = format;         ViewDimension = viewDimension;         switch (viewDimension)         {         case D3D11_SRV_DIMENSION_BUFFER:             Buffer.FirstElement = mostDetailedMip;             Buffer.NumElements = mipLevels;             break;         case D3D11_SRV_DIMENSION_TEXTURE1D:             Texture1D.MostDetailedMip = mostDetailedMip;             Texture1D.MipLevels = mipLevels;             break;         case D3D11_SRV_DIMENSION_TEXTURE1DARRAY:             Texture1DArray.MostDetailedMip = mostDetailedMip;             Texture1DArray.MipLevels = mipLevels;             Texture1DArray.FirstArraySlice = firstArraySlice;             Texture1DArray.ArraySize = arraySize;             break;         case D3D11_SRV_DIMENSION_TEXTURE2D:             Texture2D.MostDetailedMip = mostDetailedMip;             Texture2D.MipLevels = mipLevels;             break;         case D3D11_SRV_DIMENSION_TEXTURE2DARRAY:             Texture2DArray.MostDetailedMip = mostDetailedMip;             Texture2DArray.MipLevels = mipLevels;             Texture2DArray.FirstArraySlice = firstArraySlice;             Texture2DArray.ArraySize = arraySize;             break;         case D3D11_SRV_DIMENSION_TEXTURE2DMS:             break;         case D3D11_SRV_DIMENSION_TEXTURE2DMSARRAY:             Texture2DMSArray.FirstArraySlice = firstArraySlice;             Texture2DMSArray.ArraySize = arraySize;             break;         case D3D11_SRV_DIMENSION_TEXTURE3D:             Texture3D.MostDetailedMip = mostDetailedMip;             Texture3D.MipLevels = mipLevels;             break;         case D3D11_SRV_DIMENSION_TEXTURECUBE:             TextureCube.MostDetailedMip = mostDetailedMip;             TextureCube.MipLevels = mipLevels;             break;         case D3D11_SRV_DIMENSION_TEXTURECUBEARRAY:             TextureCubeArray.MostDetailedMip = mostDetailedMip;             TextureCubeArray.MipLevels = mipLevels;             TextureCubeArray.First2DArrayFace = firstArraySlice;             TextureCubeArray.NumCubes = arraySize;             break;         case D3D11_SRV_DIMENSION_BUFFEREX:             BufferEx.FirstElement = mostDetailedMip;             BufferEx.NumElements = mipLevels;             BufferEx.Flags = flags;             break;         default: break;         }     }     explicit CD3D11_SHADER_RESOURCE_VIEW_DESC(         _In_ ID3D11Buffer*,         DXGI_FORMAT format,         UINT firstElement,         UINT numElements,         UINT flags = 0 )     {         Format = format;         ViewDimension = D3D11_SRV_DIMENSION_BUFFEREX;         BufferEx.FirstElement = firstElement;         BufferEx.NumElements = numElements;         BufferEx.Flags = flags;     }     explicit CD3D11_SHADER_RESOURCE_VIEW_DESC(         _In_ ID3D11Texture1D* pTex1D,         D3D11_SRV_DIMENSION viewDimension,         DXGI_FORMAT format = DXGI_FORMAT_UNKNOWN,         UINT mostDetailedMip = 0,         UINT mipLevels = -1,         UINT firstArraySlice = 0,         UINT arraySize = -1 )     {         ViewDimension = viewDimension;         if (DXGI_FORMAT_UNKNOWN == format || -1 == mipLevels ||             (-1 == arraySize && D3D11_SRV_DIMENSION_TEXTURE1DARRAY == viewDimension))         {             D3D11_TEXTURE1D_DESC TexDesc;             pTex1D->GetDesc( &TexDesc );             if (DXGI_FORMAT_UNKNOWN == format) format = TexDesc.Format;             if (-1 == mipLevels) mipLevels = TexDesc.MipLevels - mostDetailedMip;             if (-1 == arraySize) arraySize = TexDesc.ArraySize - firstArraySlice;         }         Format = format;         switch (viewDimension)         {         case D3D11_SRV_DIMENSION_TEXTURE1D:             Texture1D.MostDetailedMip = mostDetailedMip;             Texture1D.MipLevels = mipLevels;             break;         case D3D11_SRV_DIMENSION_TEXTURE1DARRAY:             Texture1DArray.MostDetailedMip = mostDetailedMip;             Texture1DArray.MipLevels = mipLevels;             Texture1DArray.FirstArraySlice = firstArraySlice;             Texture1DArray.ArraySize = arraySize;             break;         default: break;         }     }     explicit CD3D11_SHADER_RESOURCE_VIEW_DESC(         _In_ ID3D11Texture2D* pTex2D,         D3D11_SRV_DIMENSION viewDimension,         DXGI_FORMAT format = DXGI_FORMAT_UNKNOWN,         UINT mostDetailedMip = 0,         UINT mipLevels = -1,         UINT firstArraySlice = 0, // First2DArrayFace for TEXTURECUBEARRAY         UINT arraySize = -1 ) // NumCubes for TEXTURECUBEARRAY     {         ViewDimension = viewDimension;         if (DXGI_FORMAT_UNKNOWN == format ||              (-1 == mipLevels &&                 D3D11_SRV_DIMENSION_TEXTURE2DMS != viewDimension &&                 D3D11_SRV_DIMENSION_TEXTURE2DMSARRAY != viewDimension) ||             (-1 == arraySize &&                 (D3D11_SRV_DIMENSION_TEXTURE2DARRAY == viewDimension ||                 D3D11_SRV_DIMENSION_TEXTURE2DMSARRAY == viewDimension ||                 D3D11_SRV_DIMENSION_TEXTURECUBEARRAY == viewDimension)))         {             D3D11_TEXTURE2D_DESC TexDesc;             pTex2D->GetDesc( &TexDesc );             if (DXGI_FORMAT_UNKNOWN == format) format = TexDesc.Format;             if (-1 == mipLevels) mipLevels = TexDesc.MipLevels - mostDetailedMip;             if (-1 == arraySize)             {                 arraySize = TexDesc.ArraySize - firstArraySlice;                 if (D3D11_SRV_DIMENSION_TEXTURECUBEARRAY == viewDimension) arraySize /= 6;             }         }         Format = format;         switch (viewDimension)         {         case D3D11_SRV_DIMENSION_TEXTURE2D:             Texture2D.MostDetailedMip = mostDetailedMip;             Texture2D.MipLevels = mipLevels;             break;         case D3D11_SRV_DIMENSION_TEXTURE2DARRAY:             Texture2DArray.MostDetailedMip = mostDetailedMip;             Texture2DArray.MipLevels = mipLevels;             Texture2DArray.FirstArraySlice = firstArraySlice;             Texture2DArray.ArraySize = arraySize;             break;         case D3D11_SRV_DIMENSION_TEXTURE2DMS:             break;         case D3D11_SRV_DIMENSION_TEXTURE2DMSARRAY:             Texture2DMSArray.FirstArraySlice = firstArraySlice;             Texture2DMSArray.ArraySize = arraySize;             break;         case D3D11_SRV_DIMENSION_TEXTURECUBE:             TextureCube.MostDetailedMip = mostDetailedMip;             TextureCube.MipLevels = mipLevels;             break;         case D3D11_SRV_DIMENSION_TEXTURECUBEARRAY:             TextureCubeArray.MostDetailedMip = mostDetailedMip;             TextureCubeArray.MipLevels = mipLevels;             TextureCubeArray.First2DArrayFace = firstArraySlice;             TextureCubeArray.NumCubes = arraySize;             break;         default: break;         }     }     explicit CD3D11_SHADER_RESOURCE_VIEW_DESC(         _In_ ID3D11Texture3D* pTex3D,         DXGI_FORMAT format = DXGI_FORMAT_UNKNOWN,         UINT mostDetailedMip = 0,         UINT mipLevels = -1 )     {         ViewDimension = D3D11_SRV_DIMENSION_TEXTURE3D;         if (DXGI_FORMAT_UNKNOWN == format || -1 == mipLevels)         {             D3D11_TEXTURE3D_DESC TexDesc;             pTex3D->GetDesc( &TexDesc );             if (DXGI_FORMAT_UNKNOWN == format) format = TexDesc.Format;             if (-1 == mipLevels) mipLevels = TexDesc.MipLevels - mostDetailedMip;         }         Format = format;         Texture3D.MostDetailedMip = mostDetailedMip;         Texture3D.MipLevels = mipLevels;     }     ~CD3D11_SHADER_RESOURCE_VIEW_DESC() {}     operator const D3D11_SHADER_RESOURCE_VIEW_DESC&() const { return *this; } }; ``` |

## See also

[CD3D11 Helper Structures](https://learn.microsoft.com/windows/desktop/direct3d11/cd3d11-helper-classes)