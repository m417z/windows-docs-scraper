# CRYPT_PKCS8_EXPORT_PARAMS structure

## Description

[The **CRYPT_PKCS8_EXPORT_PARAMS** structure is available for use in the operating systems specified in the Requirements section. It may be altered or unavailable in subsequent versions.]

The **CRYPT_PKCS8_EXPORT_PARAMS** structure identifies the [private key](https://learn.microsoft.com/windows/desktop/SecGloss/p-gly) and a callback function to encrypt the private key. **CRYPT_PKCS8_EXPORT_PARAMS** is used as a parameter to the
[CryptExportPKCS8Ex](https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptexportpkcs8ex) function, which exports a private key in PKCS #8 format.

## Members

### `hCryptProv`

An [HCRYPTPROV](https://learn.microsoft.com/windows/desktop/SecCrypto/hcryptprov) variable that contains a handle to the [cryptographic service provider](https://learn.microsoft.com/windows/desktop/SecGloss/c-gly) (CSP) used to encrypt the private key. This is a handle to the CSP obtained by calling [CryptAcquireContext](https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptacquirecontexta).

### `dwKeySpec`

A **DWORD** variable that contains the key specification. The following **dwKeySpec** values are defined for the default provider.

| Value | Meaning |
| --- | --- |
| **AT_KEYEXCHANGE** | Keys used to encrypt/decrypt session keys. |
| **AT_SIGNATURE** | Keys used to create and verify digital signatures. |

### `pszPrivateKeyObjId`

An **LPSTR** variable that contains the [object identifier](https://learn.microsoft.com/windows/desktop/SecGloss/o-gly) (OID) of the private key to be exported.

### `pEncryptPrivateKeyFunc`

A [PCRYPT_ENCRYPT_PRIVATE_KEY_FUNC](https://learn.microsoft.com/windows/desktop/api/wincrypt/nc-wincrypt-pcrypt_encrypt_private_key_func) pointer that points to a callback to a function that encrypts the private key. If this is **NULL**, the private key is not encrypted, and a PKCS #8 [CRYPT_ENCRYPTED_PRIVATE_KEY_INFO](https://learn.microsoft.com/windows/desktop/api/wincrypt/ns-wincrypt-crypt_encrypted_private_key_info) structure will not be generated by [CryptExportPKCS8Ex](https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptexportpkcs8ex).

### `pVoidEncryptFunc`

A **LPVOID** value that provides data used for encryption, such as key, initialization vector, and password.

## See also

[CRYPT_ENCRYPTED_PRIVATE_KEY_INFO](https://learn.microsoft.com/windows/desktop/api/wincrypt/ns-wincrypt-crypt_encrypted_private_key_info)

[CryptAcquireContext](https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptacquirecontexta)

[CryptExportPKCS8Ex](https://learn.microsoft.com/windows/desktop/api/wincrypt/nf-wincrypt-cryptexportpkcs8ex)

[PCRYPT_ENCRYPT_PRIVATE_KEY_FUNC](https://learn.microsoft.com/windows/desktop/api/wincrypt/nc-wincrypt-pcrypt_encrypt_private_key_func)