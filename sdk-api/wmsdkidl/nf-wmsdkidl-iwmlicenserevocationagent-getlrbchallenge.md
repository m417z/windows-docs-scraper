# IWMLicenseRevocationAgent::GetLRBChallenge

## Description

\[The feature associated with this page, [Windows Media Format 11 SDK](https://learn.microsoft.com/windows/win32/wmformat/windows-media-format-11-sdk), is a legacy feature. It has been superseded by [Source Reader](https://learn.microsoft.com/windows/win32/medfound/source-reader) and [Sink Writer](https://learn.microsoft.com/windows/win32/medfound/sink-writer). **Source Reader** and **Sink Writer** have been optimized for Windows 10 and Windows 11. Microsoft strongly recommends that new code use **Source Reader** and **Sink Writer** instead of **Windows Media Format 11 SDK**, when possible. Microsoft suggests that existing code that uses the legacy APIs be rewritten to use the new APIs if possible.\]

The **GetLRBChallenge** method generates a response to a license revocation challenge message. Your application must send the response to the license server.

## Parameters

### `pMachineID` [in]

Address of the machine identifier in memory. The format of the machine identifier is determined by the service that issued the license.

### `dwMachineIDLength` [in]

Size of the machine identifier in bytes.

### `pChallenge` [in]

Address of the challenge message in memory. This message is generated by a component created by the license issuer.

### `dwChallengeLength` [in]

Size of the challenge message in bytes.

### `pChallengeOutput` [out]

Address of a buffer that receives the challenge response message.

### `pdwChallengeOutputLength` [out]

Address of a variable that receives the size of the challenge response message in bytes.

## Return value

The method returns an **HRESULT**. Possible values include, but are not limited to, those in the following table.

| Return code | Description |
| --- | --- |
| **S_OK** | The method succeeded. |

## Remarks

The license server generates the challenge as the result of user interaction. This process is typically managed by a Web component. The challenge response generated by calling this method must be sent back to the license server.

After the challenge and response have been processed, the license server sends a signed license revocation blob, which includes instructions about the licenses to remove. You can perform the license revocation by calling the [ProcessLRB](https://learn.microsoft.com/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmlicenserevocationagent-processlrb) method.

## See also

[IWMLicenseRevocationAgent Interface](https://learn.microsoft.com/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmlicenserevocationagent)