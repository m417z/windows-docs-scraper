# WS_SECURITY_TOKEN_PROPERTY_ID enumeration

## Description

Defines the keys for the fields and properties that can be extracted
from a security token. Not all properties are valid for all security
token types. The function [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty) uses
the values defined here as keys.

See also [WS_SECURITY_BINDING_PROPERTY](https://learn.microsoft.com/windows/desktop/api/webservices/ns-webservices-ws_security_binding_property).

## Constants

### `WS_SECURITY_TOKEN_PROPERTY_KEY_TYPE:1`

The accompanying **value** parameter of the [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty) function is a [WS_SECURITY_KEY_TYPE](https://learn.microsoft.com/windows/desktop/api/webservices/ne-webservices-ws_security_key_type) value indicating the type of the proof key of the security token.

### `WS_SECURITY_TOKEN_PROPERTY_VALID_FROM_TIME:2`

The accompanying **value** parameter of the [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty) function is a [WS_DATETIME](https://learn.microsoft.com/windows/desktop/api/webservices/ns-webservices-ws_datetime) structure containing the time from when the security token is valid. For a security token
that does not define an explicit start time for its validity period, a
**WS_DATETIME** with a tick count of 0 is returned.

### `WS_SECURITY_TOKEN_PROPERTY_VALID_TILL_TIME:3`

The accompanying **value** parameter of the [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty) function is a [WS_DATETIME](https://learn.microsoft.com/windows/desktop/api/webservices/ns-webservices-ws_datetime) structure containing the point in time at which a currently valid security token becomes invalid. For a security token
that does not define an explicit end time for its validity period, a
**WS_DATETIME** with a tick count of 0 is returned.

### `WS_SECURITY_TOKEN_PROPERTY_SERIALIZED_XML:4`

The accompanying **value** parameter of the [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty) function is a pointer to a [WS_XML_BUFFER](https://learn.microsoft.com/windows/desktop/wsw/ws-xml-buffer) containing the XML wire form of the security token.

### `WS_SECURITY_TOKEN_PROPERTY_ATTACHED_REFERENCE_XML:5`

The accompanying **value** parameter of the [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty) function is a pointer to a [WS_XML_BUFFER](https://learn.microsoft.com/windows/desktop/wsw/ws-xml-buffer) containing
the XML wire form of the attached reference to the security token.
Attached references are used to refer to a security token when the
security token and its referring point (such as a signature using that
token) both occur in the same message.

### `WS_SECURITY_TOKEN_PROPERTY_UNATTACHED_REFERENCE_XML:6`

The accompanying **value** parameter of the [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty) function is a pointer to a [WS_XML_BUFFER](https://learn.microsoft.com/windows/desktop/wsw/ws-xml-buffer) containing
the XML wire form of the unattached reference to the security token.
Unattached references are used to refer to a security token when the
security token does not occur in the same message as its referring
point (such as a signature using that token).

### `WS_SECURITY_TOKEN_PROPERTY_SYMMETRIC_KEY:7`

The accompanying **value** parameter of the [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty) function is a pointer to a [WS_BYTES](https://learn.microsoft.com/windows/desktop/api/webservices/ns-webservices-ws_bytes) structure containing
the raw key data of the symmetric token key. This property is available when [WS_SECURITY_TOKEN_PROPERTY_KEY_TYPE](https://learn.microsoft.com/windows/desktop/api/webservices/ne-webservices-ws_security_token_property_id) is
[WS_SECURITY_KEY_TYPE_SYMMETRIC](https://learn.microsoft.com/windows/desktop/api/webservices/ne-webservices-ws_security_key_type).

If the token was obtained via [WsRequestSecurityToken](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsrequestsecuritytoken), the returned buffer contains key material generated during
the token request, which is either entropy generated by the client, entropy generated by the server or key material derived from both client
and server entropy, depending on [WS_REQUEST_SECURITY_TOKEN_PROPERTY_ISSUED_TOKEN_KEY_ENTROPY](https://learn.microsoft.com/windows/desktop/api/webservices/ne-webservices-ws_request_security_token_property_id).

When using this property with [WsGetSecurityTokenProperty](https://learn.microsoft.com/windows/desktop/api/webservices/nf-webservices-wsgetsecuritytokenproperty), the 'heap' parameter must be non-NULL.

The returned buffer should be securely erased or encrypted immediately after use to prevent leaking of sensitive data.