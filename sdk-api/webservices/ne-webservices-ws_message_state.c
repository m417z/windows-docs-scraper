typedef enum {
  WS_MESSAGE_STATE_EMPTY = 1,
  WS_MESSAGE_STATE_INITIALIZED = 2,
  WS_MESSAGE_STATE_READING = 3,
  WS_MESSAGE_STATE_WRITING = 4,
  WS_MESSAGE_STATE_DONE = 5
} WS_MESSAGE_STATE;