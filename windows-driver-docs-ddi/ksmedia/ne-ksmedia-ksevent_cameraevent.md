## Description

**KSEVENT_CAMERAEVENT** enumerates a kernel streaming event set that can be used by the pipeline to enable or disable camera event notifications from the driver.

## Constants

### `KSEVENT_PHOTO_SAMPLE_SCANNED`

Event notifications to synchronize the shutter sound playback for a photo capture.

## Remarks

The camera event DDI is defined by **KSEVENTSETID_CameraEvent**, a kernel streaming event set that can be used by the pipeline to enable or disable camera event notifications from the driver. This is a filter level event meaning that the driver must implement and define the event in the filter's automation table and use **KsFilterGenerateEvents** (or **KsGenerateEvents** with filter object) to generate event notifications.

**KSEVENTSETID_CameraEvent** and its related data structures are defined in Ksmedia.h as follows.

```cpp
#define STATIC_KSEVENTSETID_CameraEvent \
    0x7899b2e0, 0x6b43, 0x4964, 0x9d, 0x2a, 0xa2, 0x1f, 0x40, 0x61, 0xf5, 0x76

DEFINE_GUIDSTRUCT("7899B2E0-6B43-4964-9D2A-A21F4061F576", KSEVENTSETID_CameraEvent);

#define KSEVENTSETID_CameraEvent DEFINE_GUIDNAMED(KSEVENTSETID_CameraEvent)
```

Currently only **KSEVENT_PHOTO_SAMPLE_SCANNED** event is defined for **KSEVENTSETID_CameraEvent** event set. The pipeline subscribes and listens to the **KSEVENT_PHOTO_SAMPLE_SCANNED** event notifications to synchronize the shutter sound playback for a photo capture. The pipeline will only respond to the first **KSEVENT_PHOTO_SAMPLE_SCANNED** event notification for a given photo capture or photo sequence. It will play the shutter sound only once for any single photo capture or photo sequence capture and ignore subsequent notifications until the photo or photo sequence capture is complete or stopped.

This event set is optional. If the driver does not implement the event set, the pipeline will default to shutter sound playback when the first photo sample in a photo capture is received by DevProxy.

If the driver implements this event set, the pipeline will only respond to the event and will not generate a shutter sound when it receives a photo sample. Therefore it is important to ensure a **KSEVENT_PHOTO_SAMPLE_SCANNED** event notification is generated by the driver when the photo sample is scanned, if driver implements the support of this event set.