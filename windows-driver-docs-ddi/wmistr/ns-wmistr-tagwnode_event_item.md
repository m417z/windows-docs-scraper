# tagWNODE_EVENT_ITEM structure

## Description

The **WNODE_EVENT_ITEM** structure contains data generated by a driver for an event.

## Members

### `WnodeHeader`

Specifies a [WNODE_HEADER](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-_wnode_header) structure that contains information common to all **WNODE_*XXX*** structures, such as the buffer size, the GUID that represents a data block associated with a request, and flags that provide information about the **WNODE_*XXX*** data being passed or returned.

## Remarks

The **WnodeHeader** member of the **WNODE_EVENT_ITEM** structure is followed by a structure whose type depends on the flags that are set in **WnodeHeader**. Possibilities include [WNODE_ALL_DATA](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-tagwnode_all_data), [WNODE_SINGLE_INSTANCE](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-tagwnode_single_instance), and [WNODE_SINGLE_ITEM](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-tagwnode_single_item). For more information about the flags, see [WNODE_HEADER](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-_wnode_header).

The **ProviderId** member of the [WNODE_HEADER](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-_wnode_header) structure for use in a **WNODE_EVENT_ITEM** structure should be initialized using [IoWMIDeviceObjectToProviderId](https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nf-wdm-iowmideviceobjecttoproviderid).

A driver generates only events that it has previously enabled in response to an [IRP_MN_ENABLE_EVENTS](https://learn.microsoft.com/windows-hardware/drivers/kernel/irp-mn-enable-events) request. To generate an event, a driver calls [IoWMIWriteEvent](https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nf-wdm-iowmiwriteevent) and passes a pointer to the **WNODE_EVENT_ITEM**. WMI queues the event for delivery to all data consumers registered for that event.

For best performance, events should be small in size. However, if the amount of data for an event exceeds the maximum size defined in the registry, a driver can pass a [WNODE_EVENT_REFERENCE](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-tagwnode_event_reference), which WMI uses to query for the related **WNODE_EVENT_ITEM**. For more information about defining and generating WMI events, see [Windows Management Instrumentation](https://learn.microsoft.com/windows-hardware/drivers/kernel/implementing-wmi).

## See also

[IRP_MN_ENABLE_EVENTS](https://learn.microsoft.com/windows-hardware/drivers/kernel/irp-mn-enable-events)

[IoWMIDeviceObjectToProviderId](https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nf-wdm-iowmideviceobjecttoproviderid)

[IoWMIWriteEvent](https://learn.microsoft.com/windows-hardware/drivers/ddi/wdm/nf-wdm-iowmiwriteevent)

[WNODE_ALL_DATA](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-tagwnode_all_data)

[WNODE_EVENT_REFERENCE](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-tagwnode_event_reference)

[WNODE_HEADER](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-_wnode_header)

[WNODE_SINGLE_INSTANCE](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-tagwnode_single_instance)

[WNODE_SINGLE_ITEM](https://learn.microsoft.com/windows-hardware/drivers/ddi/wmistr/ns-wmistr-tagwnode_single_item)