# RxIndicateChangeOfBufferingState function

## Description

**RxIndicateChangeOfBufferingState** is called to register a change buffering state request (an oplock break indication, for example) for later processing. If necessary, worker thread routines for further processing are activated.

## Parameters

### `SrvCall`

A pointer to the SRV_CALL structure.

### `SrvOpenKey`

A pointer to the key for the SRV_OPEN structure.

### `Context`

A pointer to the context to be passed back to the network mini-redirector during callbacks for processing the request.

## Remarks

**RxIndicateChangeOfBufferingState** registers the change buffering state request by either inserting it in the registration list (DPC Level processing ) or the appropriate dispatcher/handler list.

This is an instance in which the buffering state change request from the server identifies the SRV_OPEN structure using the key generated by the server. This implies that the key needs to be mapped onto the SRV_OPEN structure locally.

The internal routines called by this routine can fail because of a lack of available memory (unable to allocate non-paged pool memory, for example), but since this is a VOID routine no error is returned when this condition occurs.

If a buffering state request can be processed immediately instead of being queued for processing later, then **RxChangeBufferingState** can be called.

## See also

[RX_CONTEXT](https://learn.microsoft.com/windows-hardware/drivers/ddi/rxcontx/ns-rxcontx-_rx_context)

[RxChangeBufferingState](https://learn.microsoft.com/windows-hardware/drivers/ddi/rxprocs/nf-rxprocs-rxchangebufferingstate)

[RxIndicateChangeOfBufferingStateForSrvOpen](https://learn.microsoft.com/windows-hardware/drivers/ddi/rxprocs/nf-rxprocs-rxindicatechangeofbufferingstateforsrvopen)

[The SRV_OPEN Structure](https://learn.microsoft.com/windows-hardware/drivers/ifs/the-srv-open-structure)