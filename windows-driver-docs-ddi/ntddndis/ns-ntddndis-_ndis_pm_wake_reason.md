# _NDIS_PM_WAKE_REASON structure

## Description

The **NDIS_PM_WAKE_REASON** structure specifies information about the wake-up event that was generated by a network adapter.

## Members

### `Header`

The type, revision, and size of the **NDIS_PM_WAKE_REASON** structure. This member is formatted as an [NDIS_OBJECT_HEADER](https://learn.microsoft.com/windows-hardware/drivers/ddi/objectheader/ns-objectheader-ndis_object_header) structure.

The miniport driver must set the **Type** member of **Header** to NDIS_OBJECT_TYPE_DEFAULT. To specify the version of the **NDIS_PM_WAKE_REASON** structure, the driver must set the **Revision** member of **Header** to the following value:

#### NDIS_PM_WAKE_REASON_REVISION_1

Original version for NDIS 6.30 and later.

Set the **Size** member to NDIS_SIZEOF_PM_WAKE_REASON_REVISION_1.

### `Flags`

A **ULONG** value that contains a bitwise **OR** of flags. This member is reserved for NDIS.

### `WakeReason`

An [NDIS_PM_WAKE_REASON_TYPE](https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ne-ntddndis-_ndis_pm_wake_reason_type) enumeration value that specifies the reason why the network adapter generated the wake-up event.

### `InfoBufferOffset`

A **ULONG** value that specifies the offset, in units of bytes, from the beginning of the **NDIS_PM_WAKE_REASON** structure to the start of a buffer that contains additional information about the wake-up event.

**Note** If the **WakeReason** member is not set to NdisWakeReasonPacket, the miniport driver must set the **InfoBufferOffset** member to zero.

**Note** The offset to the buffer must be aligned on a 64-bit boundary.

### `InfoBufferSize`

A **ULONG** value that specifies the length, in units of bytes, of the buffer that contains additional information about the wake-up event.

**Note** If the **WakeReason** member is not set to NdisWakeReasonPacket, the miniport driver must set the **InfoBufferSize** member to zero.

## Remarks

The **NDIS_PM_WAKE_REASON** structure is used in the [NDIS_STATUS_PM_WAKE_REASON](https://learn.microsoft.com/windows-hardware/drivers/network/ndis-status-pm-wake-reason) status indication.

For more information about how to issue an [NDIS_STATUS_PM_WAKE_REASON](https://learn.microsoft.com/windows-hardware/drivers/network/ndis-status-pm-wake-reason) status indication, see [Issuing NDIS Wake Reason Status Indications](https://learn.microsoft.com/windows-hardware/drivers/network/issuing-ndis-wake-reason-indications).

## See also

[NDIS_OBJECT_HEADER](https://learn.microsoft.com/windows-hardware/drivers/ddi/objectheader/ns-objectheader-ndis_object_header)

[NDIS_PM_WAKE_REASON_TYPE](https://learn.microsoft.com/windows-hardware/drivers/ddi/ntddndis/ne-ntddndis-_ndis_pm_wake_reason_type)