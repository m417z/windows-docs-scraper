# _DXVA_COPPStatusHDCPKeyData structure

## Description

The DXVA_COPPStatusHDCPKeyData structure describes a High-bandwidth Digital Content Protection (HDCP) receiver or repeater key selection vector (KSV).

## Members

### `rApp`

Specifies a 128-bit random number, used once. This random number is generated by the requesting application and supplied to the display driver in the **rApp** member of the [DXVA_COPPStatusInput](https://learn.microsoft.com/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusinput) structure.

### `dwFlags`

Specifies additional status information that might be relevant to the calling application. The display driver should set **dwFlags** to the COPP_StatusNormal (0x00) value from the **COPP_StatusFlags** enumeration type or to a valid ORed combination of the following COPP_StatusFlags:

* COPP_LinkLost (0x01)
* COPP_RenegotiationRequired (0x02)

### `dwHDCPFlags`

Specifies the current HDCP characteristics of the device connected to a Digital Video Interface (DVI) or High-Definition Multimedia Interface (HDMI) output connector. The display driver can set **dwHDCPFlags** to COPP_HDCPRepeater (0x01) from the **COPP_StatusHDCPFlags** enumeration type to indicate that the device is a repeater.

### `BKey`

Specifies the HDCP receiver or repeater KSV (Bksv), as defined by HDCP Specification Revision 1.1, in the least significant 40 bits.

### `Reserved1`

Reserved. Should be set to zero (GUID_NULL).

### `Reserved2`

Reserved. Should be set to zero (GUID_NULL).

## Remarks

The display driver returns status about the HDCP key through the *pOutput* parameter of [COPPQueryStatus](https://learn.microsoft.com/windows-hardware/drivers/display/coppquerystatus). The [DXVA_COPPStatusOutput](https://learn.microsoft.com/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusoutput) structure describes the returned status information. The display driver should cast the HDCP key status to a pointer to a DXVA_COPPStatusHDCPKeyData structure and return the status information in the **COPPStatus** member of DXVA_COPPStatusOutput.

Applications initiate a query for HDCP key data to determine if the receiver or repeater device is revoked; they can then disable protected content flow to the device. Applications must obtain lists of revoked KSVs by processing System Renewability Messages (SRMs). In coordination with [Digital Content Protection LLC](https://go.microsoft.com/fwlink/p/?linkid=38728), owners of HDCP licensing applications should not let protected content flow to HDCP repeaters for COPP version 1.0.

## See also

[COPPQueryStatus](https://learn.microsoft.com/windows-hardware/drivers/display/coppquerystatus)

[DXVA_COPPSetProtectionLevelCmdData](https://learn.microsoft.com/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppsetprotectionlevelcmddata)

[DXVA_COPPStatusInput](https://learn.microsoft.com/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusinput)

[DXVA_COPPStatusOutput](https://learn.microsoft.com/windows-hardware/drivers/ddi/dxva/ns-dxva-_dxva_coppstatusoutput)